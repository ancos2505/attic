var l="function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,k){if(b==Array.prototype||b==Object.prototype)return b;b[f]=k.value;return b};function n(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<b.length;++f){var k=b[f];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");}var u=n(this);
function y(b,f){if(f)a:{var k=u;b=b.split(".");for(var h=0;h<b.length-1;h++){var g=b[h];if(!(g in k))break a;k=k[g]}b=b[b.length-1];h=k[b];f=f(h);f!=h&&null!=f&&l(k,b,{configurable:!0,writable:!0,value:f})}}function z(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}}function B(b){var f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return f?f.call(b):{next:z(b)}}function C(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.o=0;this.j=null}
function D(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}C.prototype.m=function(b){this.h=b};function E(b,f){b.j={J:f,K:!0};b.g=b.o}C.prototype.return=function(b){this.j={return:b};this.g=this.o};function F(b,f,k){b.g=k;return{value:f}}function G(b){this.g=new C;this.h=b}function H(b,f){D(b.g);var k=b.g.i;if(k)return I(b,"return"in k?k["return"]:function(h){return{value:h,done:!0}},f,b.g.return);b.g.return(f);return J(b)}
function I(b,f,k,h){try{var g=f.call(b.g.i,k);if(!(g instanceof Object))throw new TypeError("Iterator result "+g+" is not an object");if(!g.done)return b.g.l=!1,g;var c=g.value}catch(a){return b.g.i=null,E(b.g,a),J(b)}b.g.i=null;h.call(b.g,c);return J(b)}function J(b){for(;b.g.g;)try{var f=b.h(b.g);if(f)return b.g.l=!1,{value:f.value,done:!1}}catch(k){b.g.h=void 0,E(b.g,k)}b.g.l=!1;if(b.g.j){f=b.g.j;b.g.j=null;if(f.K)throw f.J;return{value:f.return,done:!0}}return{value:void 0,done:!0}}
function K(b){this.next=function(f){D(b.g);b.g.i?f=I(b,b.g.i.next,f,b.g.m):(b.g.m(f),f=J(b));return f};this.throw=function(f){D(b.g);b.g.i?f=I(b,b.g.i["throw"],f,b.g.m):(E(b.g,f),f=J(b));return f};this.return=function(f){return H(b,f)};this[Symbol.iterator]=function(){return this}}function L(b){function f(h){return b.next(h)}function k(h){return b.throw(h)}return new Promise(function(h,g){function c(a){a.done?h(a.value):Promise.resolve(a.value).then(f,k).then(c,g)}c(b.next())})}
function M(b){return L(new K(new G(b)))}y("Symbol",function(b){function f(g){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new k("jscomp_symbol_"+(g||"")+"_"+h++,g)}function k(g,c){this.g=g;l(this,"description",{configurable:!0,writable:!0,value:c})}if(b)return b;k.prototype.toString=function(){return this.g};var h=0;return f});
y("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),k=0;k<f.length;k++){var h=u[f[k]];"function"===typeof h&&"function"!=typeof h.prototype[b]&&l(h.prototype,b,{configurable:!0,writable:!0,value:function(){return N(z(this))}})}return b});function N(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
y("Promise",function(b){function f(a){this.h=0;this.i=void 0;this.g=[];this.o=!1;var e=this.j();try{a(e.resolve,e.reject)}catch(d){e.reject(d)}}function k(){this.g=null}function h(a){return a instanceof f?a:new f(function(e){e(a)})}if(b)return b;k.prototype.h=function(a){if(null==this.g){this.g=[];var e=this;this.i(function(){e.l()})}this.g.push(a)};var g=u.setTimeout;k.prototype.i=function(a){g(a,0)};k.prototype.l=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var e=0;e<a.length;++e){var d=
a[e];a[e]=null;try{d()}catch(p){this.j(p)}}}this.g=null};k.prototype.j=function(a){this.i(function(){throw a;})};f.prototype.j=function(){function a(p){return function(m){d||(d=!0,p.call(e,m))}}var e=this,d=!1;return{resolve:a(this.F),reject:a(this.l)}};f.prototype.F=function(a){if(a===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.H(a);else{a:switch(typeof a){case "object":var e=null!=a;break a;case "function":e=!0;break a;default:e=!1}e?this.D(a):this.m(a)}};
f.prototype.D=function(a){var e=void 0;try{e=a.then}catch(d){this.l(d);return}"function"==typeof e?this.I(e,a):this.m(a)};f.prototype.l=function(a){this.v(2,a)};f.prototype.m=function(a){this.v(1,a)};f.prototype.v=function(a,e){if(0!=this.h)throw Error("Cannot settle("+a+", "+e+"): Promise already settled in state"+this.h);this.h=a;this.i=e;2===this.h&&this.G();this.B()};f.prototype.G=function(){var a=this;g(function(){if(a.C()){var e=u.console;"undefined"!==typeof e&&e.error(a.i)}},1)};f.prototype.C=
function(){if(this.o)return!1;var a=u.CustomEvent,e=u.Event,d=u.dispatchEvent;if("undefined"===typeof d)return!0;"function"===typeof a?a=new a("unhandledrejection",{cancelable:!0}):"function"===typeof e?a=new e("unhandledrejection",{cancelable:!0}):(a=u.document.createEvent("CustomEvent"),a.initCustomEvent("unhandledrejection",!1,!0,a));a.promise=this;a.reason=this.i;return d(a)};f.prototype.B=function(){if(null!=this.g){for(var a=0;a<this.g.length;++a)c.h(this.g[a]);this.g=null}};var c=new k;f.prototype.H=
function(a){var e=this.j();a.s(e.resolve,e.reject)};f.prototype.I=function(a,e){var d=this.j();try{a.call(e,d.resolve,d.reject)}catch(p){d.reject(p)}};f.prototype.then=function(a,e){function d(t,q){return"function"==typeof t?function(w){try{p(t(w))}catch(A){m(A)}}:q}var p,m,r=new f(function(t,q){p=t;m=q});this.s(d(a,p),d(e,m));return r};f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.s=function(a,e){function d(){switch(p.h){case 1:a(p.i);break;case 2:e(p.i);break;default:throw Error("Unexpected state: "+
p.h);}}var p=this;null==this.g?c.h(d):this.g.push(d);this.o=!0};f.resolve=h;f.reject=function(a){return new f(function(e,d){d(a)})};f.race=function(a){return new f(function(e,d){for(var p=B(a),m=p.next();!m.done;m=p.next())h(m.value).s(e,d)})};f.all=function(a){var e=B(a),d=e.next();return d.done?h([]):new f(function(p,m){function r(w){return function(A){t[w]=A;q--;0==q&&p(t)}}var t=[],q=0;do t.push(void 0),q++,h(d.value).s(r(t.length-1),m),d=e.next();while(!d.done)})};return f});
function O(b,f,k){b instanceof String&&(b=String(b));for(var h=b.length,g=0;g<h;g++){var c=b[g];if(f.call(k,c,g,b))return{u:g,A:c}}return{u:-1,A:void 0}}y("Array.prototype.findIndex",function(b){return b?b:function(f,k){return O(this,f,k).u}});function P(b,f){b instanceof String&&(b+="");var k=0,h=!1,g={next:function(){if(!h&&k<b.length){var c=k++;return{value:f(c,b[c]),done:!1}}h=!0;return{done:!0,value:void 0}}};g[Symbol.iterator]=function(){return g};return g}
y("Array.prototype.keys",function(b){return b?b:function(){return P(this,function(f){return f})}});y("Array.prototype.find",function(b){return b?b:function(f,k){return O(this,f,k).A}});
function S(b,f){var k=b.selector,h=null,g=null;"undefined"===typeof b.timeOut?h=100:h=b.timeOut;"undefined"===typeof f?console.error("WFE: ERROR -> Undefined Callback function"):("undefined"!==typeof b.tries?g=b.tries:g=0,g+=1,null!=document.querySelector(k)?f():50>g?setTimeout(function(){S({selector:""+k,timeOut:h,tries:g},f)},h):console.error("WFE: ERROR -> Exausted tries("+g+")!: "+k))}
function T(b,f){return Array.isArray(b)&&"number"===typeof f&&0<b.length?(b=b.findIndex(function(k){return k.id===f/1}),-1<b?b:!1):!1}
function U(b){function f(g){return M(function(c){return c.return('\n    <div style="text-align: center;" class="uk-overflow-auto uk-margin-medium-top uk-text-center@m" tabindex="0">\n    <div class="uk-card uk-card-default uk-card-body uk-animation-fade">\n        <h1>Page not found</h1>\n        <span class="uk-text-danger" uk-icon="icon: warning; ratio: 2"></span>\n        <h2>Redirecting to previous Page.</h2>\n        <p class="uk-text-large"><strong>'+g+"</strong> is an invalid url.</p>\n\n    </div>\n</div>\n    ")})}
function k(g){return M(function(c){return c.return(g.route)})}function h(g){var c,a;return M(function(e){if(1==e.g)return F(e,k(g),2);if(3!=e.g)return c=e.h,F(e,f(c),3);a=e.h;S({selector:"div#app"},function(){document.querySelector("div#app").innerHTML=a;setTimeout(function(){window.history.back()},3E3)});e.g=0})}-1!==["Dispatcher"].indexOf("Dispatcher")&&h(b)}
function aa(){function b(){return M(function(h){return h.return('\n    <nav id="panel-admin" class="uk-navbar-container">\n        <div class="uk-container">\n            <div uk-navbar="" class="uk-navbar">\n                <div class="uk-navbar-left">\n                    <a class="uk-navbar-item uk-logo" href="/">Admin Panel</a>\n                    <ul class="uk-navbar-nav">\n                    \x3c!-- <li class="uk-active"><a id="menu-item-users">Users</a></li> --\x3e\n                        <li><a id="menu-item-users" href="/#/users">Users</a></li>\n                        <li><a id="menu-item-departments" href="/#/departments">Departments</a></li>\n                        <li><a id="menu-item-permissions" href="/#/permissions">permissions</a></li>\n                        <li><a id="menu-item-users" href="/#/shouldnotexist">Test 404</a></li>\n                        <li><a>|</a></li>\n                        <li><a id="menu-item-messages" href="/#/messages">Messages</a></li>\n                    </ul>\n                </div>\n                <div id="user-menu" class="uk-navbar-right"></div>\n            </div>\n        </div>\n    </nav>\n    <div class="uk-section uk-section-default">\n        <div id="page-content" class="uk-container"></div>\n    </div>\n    ')})}function f(h){return M(function(g){return g.return(h)})}
function k(h){var g,c;return M(function(a){if(1==a.g)return F(a,f(h),2);if(3!=a.g)return g=a.h,F(a,b(g),3);c=a.h;S({selector:"div#app"},function(){document.querySelector("div#app").innerHTML=c;ba()});a.g=0})}-1<["Dispatcher"].indexOf("Dispatcher")&&k(null)}
function V(){function b(k){return M(function(h){return h.return(k)})}function f(k){var h,g;return M(function(c){return Object.keys(W)?(h=Object.keys(W),g=h.find(function(a){return a===k}),"undefined"===typeof g?c.return(!1):c.return(g)):c.return(!1)})}(function(){var k,h,g;return M(function(c){if(1==c.g){if(-1<window.location.href.indexOf("#")){var a=window.location.href.split("#")[1];a=-1<a.indexOf("/")?"/"+a.split("/")[1]:"/"}else a="/";k=a;return F(c,f(k),2)}if(3!=c.g)return h=c.h,F(c,b(h),3);
!1===h?U({route:""+k}):(aa(),g=W[h],g("Dispatcher",null));c.g=0})})()}
function ba(){function b(){return M(function(h){return h.return('\n    <ul class="uk-navbar-nav">\n        <li>\n            <a href="#" data-uk-icon="icon:user" aria-expanded="false" class="uk-icon"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="user"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9.9" cy="6.4" r="4.4"></circle><path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,19 C2.3,14.5 5.8,11.2 10,11.2 C14.2,11.2 17.7,14.6 18.5,19.2"></path></svg></a>\n            <div class="uk-navbar-dropdown uk-navbar-dropdown-bottom-right" style="left: 674px; top: 80px;">\n                <ul class="uk-nav uk-navbar-dropdown-nav">\n                    <li class="uk-nav-header uk-text-small uk-text-primary">YOUR ACCOUNT</li>\n                    <li><a id="dashboards" href="/#/dashboards"><span data-uk-icon="icon: thumbnails" class="uk-icon"></span> Dashboards</a></li>\n                    <li><a id="payments" href="/#/payments"><span data-uk-icon="icon: credit-card" class="uk-icon"></span> Payments</a></li>\n                    <li><a id="configuration" href="/#/configuration"><span data-uk-icon="icon: cog" class="uk-icon"></span> Configuration</a></li>\n                    <li class="uk-nav-divider"></li>\n                    <li><a id="your-data" href="/#/your-data"><span data-uk-icon="icon: database" class="uk-icon"></span> Your Data</a></li>\n                    <li class="uk-nav-divider"></li>\n                    <li><a id="logout" href="/#/logout"><span data-uk-icon="icon: sign-out" class="uk-icon"></span> Logout</a></li>\n                </ul>\n            </div>\n        </li>\n    </ul>\n    ')})}function f(h){return M(function(g){return g.return(h)})}
function k(h){var g,c;return M(function(a){if(1==a.g)return F(a,f(h),2);if(3!=a.g)return g=a.h,F(a,b(g),3);c=a.h;S({selector:"div#user-menu"},function(){document.querySelector("div#user-menu").innerHTML=c});a.g=0})}-1<["BaseTemplate"].indexOf("BaseTemplate")&&k(null)}
function ca(b){function f(g){var c,a;return M(function(e){c="";a=["","uk-label-success","uk-label-warning","uk-label-danger"];g.users.forEach(function(d){c+='\n            <tr>\n                <td role="id">'+d.id/1+'</td>\n                <td role="name" class="editable-cell">\n                    <span class="data-content">'+d.name+'</span>\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                </td>\n                <td role="email" class="editable-cell">\n                    <span class="data-content">'+
d.email+'</span>\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                </td>\n                <td role="department" class="editable-cell">\n                    <span class="data-content">'+g.department[T(g.department,d.department/1)].name+'</span>\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                </td>\n                <td role="permission" class="editable-cell">\n                    <span class="data-content">'+g.permission[T(g.permission,
d.permission/1)].name+'</span>\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                </td>\n                <td role="status" class="editable-cell">\n                    <span role="active" class="data-content uk-label '+a[d.status]+'">'+g.status[T(g.status,d.status/1)].name+'</span>\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                </td>\n                <td role="delete" class="uk-text-center">\n                    <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                </td>\n            </tr>\n        '});
c+='\n            <tr id="last-row"></tr>\n    ';return e.return(c)})}function k(g){return M(function(c){return c.return(g)})}function h(g){var c,a;return M(function(e){if(1==e.g)return F(e,k(g),2);if(3!=e.g)return c=e.h,F(e,f(c),3);a=e.h;S({selector:"tbody#show-users"},function(){document.querySelector("tbody#show-users").innerHTML=a});S({selector:"tr#last-row"},function(){document.querySelectorAll("td.editable-cell").forEach(function(d){d.childNodes[3].addEventListener("click",function(){X(d)})});
document.querySelectorAll('td[role="delete"]').forEach(function(d){d.childNodes[1].addEventListener("click",function(){X(d)})})});e.g=0})}-1<["ShowUsersPageShowFilters"].indexOf("ShowUsersPageShowFilters")&&h(b)}
function da(b,f){function k(c){return M(function(a){return a.return(c.deleted?null:'<span id="delete-user-status-message">Fetch Error</span>')})}function h(c){var a,e,d,p;return M(function(m){if(1==m.g)return a=c.content.id,e=JSON.parse('{ "id": '+a+" }"),d=JSON.stringify(e),F(m,fetch("/api/delete_user",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:d}).then(function(){return JSON.parse('{ "deleted": true }')}).catch(function(){return JSON.parse('{ "deleted": false }')}),
2);p=m.h;return m.return(p)})}function g(c){var a;return M(function(e){if(1==e.g)return F(e,h(c),2);if(3!=e.g)return a=e.h,F(e,k(a),3);a.deleted&&S({selector:"div#users-modal"},function(){eval('UIkit.modal("div#users-modal").toggle()');Y("ShowUsersPageDeleteUser")});e.g=0})}-1<["ShowUsersPageShowModal"].indexOf(b)&&g(f)}
function ea(b){function f(g){return M(function(c){return c.return(g)})}function k(g){var c,a,e;return M(function(d){if(1==d.g)return c={email:g.email,name:g.name,department:g.department/1,permission:g.permission/1,status:g.status/1},a=JSON.stringify(c),F(d,fetch("/api/add_user",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then(function(){return JSON.parse('{ "created": true }')}).catch(function(){return JSON.parse('{ "created": false }')}),2);e=d.h;
return d.return(e)})}function h(g){var c;return M(function(a){if(1==a.g)return F(a,k(g),2);if(3!=a.g)return c=a.h,F(a,f(c),3);c.created&&S({selector:"div#users-modal"},function(){eval('UIkit.modal("div#users-modal").toggle()');Y("ShowUsersPageNewUserSave")});a.g=0})}-1<["ShowUsersPageNewUser"].indexOf("ShowUsersPageNewUser")&&h(b)}
function fa(){function b(h){var g;return M(function(c){if(1==c.g)return g='\n    <div class="uk-modal-dialog">\n\n                <button class="uk-modal-close-default uk-icon uk-close" type="button" uk-close=""><svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" data-svg="close-icon"><line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"></line><line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"></line></svg></button>\n\n                <div class="uk-modal-header">\n                    <h2 class="uk-modal-title">New User</h2>\n                </div>\n\n                <div class="uk-modal-body uk-overflow-auto" uk-overflow-auto="" style="min-height: 150px; max-height: 707px;">\n                    <form class="uk-form-horizontal">\n                        <div class="uk-margin">\n                            <label class="uk-form-label">Name:</label>\n                            <div class="uk-form-controls">\n                                <input role="name" class="form-field uk-input uk-form-width-large" type="text" placeholder="First Last">\n                            </div>\n                        </div>\n\n                        <div class="uk-margin">\n                            <label class="uk-form-label">E-mail:</label>\n                            <div class="uk-form-controls">\n                                <input role="email" class="form-field uk-input uk-form-width-large" type="text" placeholder="email@example.net">\n                            </div>\n                        </div>\n\n                        <div class="uk-margin">\n                            <label class="uk-form-label">Department:</label>\n                            <div class="uk-form-controls">\n                                <select role="department" class="form-field uk-select uk-form-width-large">\n                                <option></option>\n    ',F(c,
h.departments.forEach(function(a){g+='<option value="'+a.id+'">'+a.name+"</option>"}),2);if(3!=c.g)return g+='\n                                </select>\n                            </div>\n                        </div>\n\n                        <div class="uk-margin">\n                            <label class="uk-form-label">Permission:</label>\n                            <div class="uk-form-controls">\n                                <select role="permission" class="form-field uk-select uk-form-width-large">\n                                    <option></option>\n    ',
F(c,h.permissions.forEach(function(a){g+='<option value="'+a.id+'">'+a.name+"</option>"}),3);g+='\n                                </select>\n                            </div>\n                        </div>\n                        <input role="status" class="form-field" type="hidden" value="1">\n\n                    </form>\n                </div>\n\n                <div class="uk-modal-footer uk-text-right">\n                    <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>\n                    <button id="save-form" class="uk-button uk-button-primary" type="button">Save</button>\n                </div>\n                <span id="rendered-modal"></span>\n            </div>\n    ';
return c.return(g)})}function f(){var h,g,c,a;return M(function(e){switch(e.g){case 1:return F(e,fetch("/api/show_departments",{method:"post",body:"{}"}).then(function(d){return d.json()}).then(function(d){return d}),2);case 2:return h=e.h,F(e,fetch("/api/show_permissions",{method:"post",body:"{}"}).then(function(d){return d.json()}).then(function(d){return d}),3);case 3:return g=e.h,F(e,fetch("/api/show_statuses",{method:"post",body:"{}"}).then(function(d){return d.json()}).then(function(d){return d}),
4);case 4:return c=e.h,a={departments:h,permissions:g,statuses:c},e.return(a)}})}function k(h){var g,c,a;return M(function(e){if(1==e.g)return F(e,f(h),2);if(3!=e.g)return g=e.h,F(e,b(g),3);c=e.h;S({selector:"div#users-modal"},function(){document.querySelector("div#users-modal").innerHTML=c});S({selector:"span#rendered-modal"},function(){eval('UIkit.modal("div#users-modal").toggle()')});a={};S({selector:"button#save-form"},function(){document.querySelector("button#save-form").addEventListener("click",
function(){document.querySelectorAll(".form-field").forEach(function(d){var p=d.getAttribute("role");a[p]="select"==d.nodeName?d.value/1:d.value});ea(a)})});e.g=0})}-1<["ShowUsersPage"].indexOf("ShowUsersPage")&&k(null)}
function Y(b){function f(g){var c;return M(function(a){switch(a.g){case 1:return c='\n    <div class="uk-first-column">\n        <div class="uk-panel">\n            <select id="filter-by-department" class="uk-select">\n                <option>Department (All)</option>\n    ',F(a,g.department.forEach(function(e){c+="<option>"+e.name+"</option>"}),2);case 2:return c+='\n            </select>\n        </div>\n    </div>\n    <div>\n        <div class="uk-panel">\n            <select id="filter-by-permission" class="uk-select">\n                <option>Permission (All)</option>\n    ',
F(a,g.permission.forEach(function(e){c+="<option>"+e.name+"</option>"}),3);case 3:return c+='\n            </select>\n        </div>\n    </div>\n    <div>\n        <div class="uk-panel">\n            <select id="filter-by-status" class="uk-select">\n                <option>Status (All)</option>\n    ',F(a,g.status.forEach(function(e){c+="<option>"+e.name+"</option>"}),4);case 4:return c+="\n            </select>\n        </div>\n    </div>\n    ",a.return(c)}})}function k(){var g,c,a,e,d;return M(function(p){switch(p.g){case 1:return F(p,
fetch("/api/show_users",{method:"post",body:"{}"}).then(function(m){return m.json()}).then(function(m){return m}),2);case 2:return g=p.h,F(p,fetch("/api/show_departments",{method:"post",body:"{}"}).then(function(m){return m.json()}).then(function(m){return m}),3);case 3:return c=p.h,F(p,fetch("/api/show_permissions",{method:"post",body:"{}"}).then(function(m){return m.json()}).then(function(m){return m}),4);case 4:return a=p.h,F(p,fetch("/api/show_statuses",{method:"post",body:"{}"}).then(function(m){return m.json()}).then(function(m){return m}),
5);case 5:return e=p.h,d={users:g,department:c,permission:a,status:e},p.return(d)}})}function h(g){var c,a,e,d;return M(function(p){if(1==p.g)return F(p,k(g),2);if(3!=p.g)return c=p.h,F(p,f(c),3);a=p.h;e={department:null,permission:null,status:null};d=function(m){var r,t,q,w,A,Q,R;return M(function(v){switch(v.g){case 1:return r=null,F(v,JSON.parse(JSON.stringify(m)),2);case 2:r=v.h;if(null==e.department){v.g=3;break}return F(v,r.department.find(function(x){return x.name==e.department}),4);case 4:return t=
v.h,q=r,F(v,r.users.filter(function(x){return x.department==t.id}),5);case 5:q.users=v.h;case 3:if(null==e.permission){v.g=6;break}return F(v,r.permission.find(function(x){return x.name==e.permission}),7);case 7:return w=v.h,A=r,F(v,r.users.filter(function(x){return x.permission==w.id}),8);case 8:A.users=v.h;case 6:if(null==e.status){v.g=9;break}return F(v,r.status.find(function(x){return x.name==e.status}),10);case 10:return Q=v.h,R=r,F(v,r.users.filter(function(x){return x.status==Q.id}),11);case 11:R.users=
v.h;case 9:ca(r),v.g=0}})};S({selector:"div#show-filters"},function(){document.querySelector("div#show-filters").innerHTML=a;d(c)});S({selector:"select#filter-by-department"},function(){var m=document.querySelector("select#filter-by-department");m.addEventListener("change",function(){var r=m.options[m.selectedIndex].value;"Department (All)"==r?e.department=null:e.department=r;d(c)})});S({selector:"select#filter-by-permission"},function(){var m=document.querySelector("select#filter-by-permission");
m.addEventListener("change",function(){var r=m.options[m.selectedIndex].value;"Permission (All)"==r?e.permission=null:e.permission=r;d(c)})});S({selector:"select#filter-by-status"},function(){var m=document.querySelector("select#filter-by-status");m.addEventListener("change",function(){var r=m.options[m.selectedIndex].value;"Status (All)"==r?e.status=null:e.status=r;d(c)})});p.g=0})}-1<["ShowUsersPage","ShowUsersPageNewUserSave","ShowUsersPageDeleteUser","ShowUsersPageUpdateUser"].indexOf(b)&&h(null)}
function X(b){function f(g){var c,a,e,d;return M(function(p){c=function(){var m=g.role;return'\n            <div class="uk-modal-dialog uk-modal-body">\n                <h2 class="uk-modal-title">Update</h2>\n                <div>\n                    <label class="uk-form-label">'+m+': </label>\n                    <input id="update-field" role="'+m+'" class="uk-input" type="text" value="'+g.content[m]+'">\n                </div>\n                <p class="uk-text-right">\n                    <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>\n                    <button id="modal-ok-btn" class="uk-button uk-button-primary" type="button">Save</button>\n                </p>\n                <span id="rendered-modal"></span>\n            </div>\n        '};
a=function(){var m,r,t;return M(function(q){if(1==q.g)return m=g.role,r=g.content[m]/1,t='\n            <div class="uk-modal-dialog uk-modal-body">\n                <h2 class="uk-modal-title">Update</h2>\n                <div>\n                    <label class="uk-form-label">'+m+': </label>\n                    <div class="uk-form-controls">\n                        <select id="update-field" role="'+m+'" class="uk-select uk-form-width-large">\n        ',F(q,g[""+m].forEach(function(w){t+='<option value="'+
w.id+'" '+(w.id===r?'selected="selected"':"")+">"+w.name+"</option>"}),2);t+='\n                        </select>\n                    </div>\n                </div>\n                <p class="uk-text-right">\n                    <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>\n                    <button id="modal-ok-btn" class="uk-button uk-button-primary" type="button">Save</button>\n                </p>\n                <span id="rendered-modal"></span>\n            </div>\n        ';
return q.return(t)})};e=function(){return'\n            <div class="uk-modal-dialog">\n                    <div class="uk-modal-body">\n                        Confirm user: <strong>'+g.content.name+'</strong> deletion?\n                        <input id="user-id" type="hidden" value="'+g.content.id+'">\n                    </div>\n                        <div class="uk-modal-footer uk-text-right">\n                        <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>\n                        <button id="modal-ok-btn" class="uk-button uk-button-primary" autofocus="">Ok</button>\n                    </div>\n                    <span id="rendered-modal"></span>\n            </div>\n        '};
d=function(m){return{name:c,email:c,department:a,permission:a,status:a,"delete":e}[""+m]()};return p.return(d(g.role))})}function k(g){var c,a,e,d,p,m,r;return M(function(t){switch(t.g){case 1:return c=g.parentNode.childNodes[1].innerText,a=g.getAttribute("role"),F(t,fetch("/api/show_user",{method:"post",body:'{ "id": '+c+" }"}).then(function(q){return q.json()}).then(function(q){return q}),2);case 2:return e=t.h,F(t,fetch("/api/show_departments",{method:"post",body:"{}"}).then(function(q){return q.json()}).then(function(q){return q}),
3);case 3:return d=t.h,F(t,fetch("/api/show_permissions",{method:"post",body:"{}"}).then(function(q){return q.json()}).then(function(q){return q}),4);case 4:return p=t.h,F(t,fetch("/api/show_statuses",{method:"post",body:"{}"}).then(function(q){return q.json()}).then(function(q){return q}),5);case 5:return m=t.h,r={content:e,department:d,permission:p,status:m,role:a},t.return(r)}})}function h(g){var c,a,e,d;return M(function(p){if(1==p.g)return F(p,k(g),2);if(3!=p.g)return c=p.h,F(p,f(c),3);a=p.h;
e=g.getAttribute("role");S({selector:"div#users-modal"},function(){document.querySelector("div#users-modal").innerHTML=a});d=function(m){var r,t,q;return M(function(w){r={name:Z,email:Z,department:Z,permission:Z,status:Z,"delete":da};"delete"!=m&&(t=document.querySelector("#update-field"),q="select"==t.nodeName?t.value/1:t.value,c.updateValue=q);r[m]("ShowUsersPageShowModal",c);w.g=0})};S({selector:"span#rendered-modal"},function(){eval('UIkit.modal("div#users-modal").toggle()');g.parentNode.classList.add("uk-active");
eval('UIkit.util.on("div#users-modal", "hide", () => {\n            document.querySelectorAll(\'.uk-active\').forEach((element) => {\n                element.classList.remove("uk-active")\n            })\n        })')});S({selector:"button#modal-ok-btn"},function(){document.querySelector("button#modal-ok-btn").addEventListener("click",function(){d(e)})});p.g=0})}-1<["ShowUsersPageContent"].indexOf("ShowUsersPageContent")&&h(b)}
function Z(b,f){function k(c){return M(function(a){return a.return(c)})}function h(c){var a,e,d,p,m,r,t;return M(function(q){if(1==q.g)return a=c.role,e=c.updateValue,d=["department","permission","status"],p=c.content.id,m=JSON.parse('{ "id": '+p+', "'+a+'": null }'),m[""+a]=-1<d.findIndex(function(w){return w===a})?e/1:e,r=JSON.stringify(m),F(q,fetch("/api/update_user",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:r}).then(function(){return JSON.parse('{ "updated": true }')}).catch(function(){return JSON.parse('{ "updated": false }')}),
2);t=q.h;return q.return(t)})}function g(c){var a;return M(function(e){if(1==e.g)return F(e,h(c),2);if(3!=e.g)return a=e.h,F(e,k(a),3);a.updated&&S({selector:"div#users-modal"},function(){eval('UIkit.modal("div#users-modal").toggle()');Y("ShowUsersPageUpdateUser")});e.g=0})}-1<["ShowUsersPageShowModal"].indexOf(b)&&g(f)}
var W={"/":function(b,f){function k(){return M(function(c){return c.return("<h1>Home</h1>")})}function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e;location.href="#/users"});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/permissions":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Permissions</h1>\n        <button class="uk-button uk-button-default">New</button>\n        <hr/>\n        <table class="uk-table uk-table-divider uk-table-hover uk-table-small">\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>1</td>\n                    <td>\n                        <span class="data-content">Administrator</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n                <tr>\n                    <td>2</td>\n                    <td>\n                        <span class="data-content">Technical</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n                <tr>\n                    <td>3</td>\n                    <td>\n                        <span class="data-content">User</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/users":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Users</h1>\n        <button id="new-user" class="uk-button uk-button-default">New</button>\n        <hr/>\n        <div id="show-filters" class="uk-grid-divider uk-child-width-expand@s" uk-grid></div>\n        <table class="uk-table uk-table-divider uk-table-hover uk-table-small">\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>E-mail</th>\n                <th>Department</th>\n                <th>Permission</th>\n                <th>Status</th>\n                <th>Delete</th>\n            </tr>\n        </thead>\n        <tbody id="show-users"></tbody>\n        </table>\n        </div>\n        \x3c!-- Modal --\x3e\n        <div id="users-modal" uk-modal></div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e;Y("ShowUsersPage")});S({selector:"button#new-user"},function(){document.querySelector("button#new-user").addEventListener("click",function(){fa()})});d.g=0})}-1<["Dispatcher","Home"].indexOf(b)&&g(f)},"/departments":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Departments</h1>\n        <button class="uk-button uk-button-default">New</button>\n        <hr/>\n        <table class="uk-table uk-table-divider uk-table-hover uk-table-small">\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>1</td>\n                    <td>\n                        <span class="data-content">IT</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n                <tr>\n                    <td>2</td>\n                    <td>\n                        <span class="data-content">Accounting</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n                <tr>\n                    <td>3</td>\n                    <td>\n                        <span class="data-content">Marketing</span>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: pencil">\n                    </td>\n                    <td>\n                        <a class="uk-icon-link uk-icon" uk-icon="icon: trash">\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/messages":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Messages</h1>\n        <button class="uk-button uk-button-default">New</button>\n        <hr/>\n        <div class="uk-grid-divider uk-child-width-expand@s" uk-grid>\n            <div class="uk-first-column">\n                <div class="uk-panel">\n                    <select class="uk-select">\n                        <option>From</option>\n                        <option>Option 01</option>\n                        <option>Option 02</option>\n                    </select>\n                </div>\n            </div>\n            <div>\n            <div class="uk-panel">\n                <select class="uk-select">\n                    <option>Department(From)</option>\n                    <option>Option 01</option>\n                    <option>Option 02</option>\n                </select>\n            </div>\n            </div>\n            <div>\n                <div class="uk-panel">\n                    <select class="uk-select">\n                        <option>To</option>\n                        <option>Option 01</option>\n                        <option>Option 02</option>\n                    </select>\n                </div>\n            </div>\n\n            <div>\n                <div class="uk-panel">\n                    <select class="uk-select">\n                        <option>Department(To)</option>\n                        <option>Option 01</option>\n                        <option>Option 02</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <table class="uk-table uk-table-divider uk-table-hover uk-table-small">\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Sent</th>\n                <th>From</th>\n                <th>Department(From)</th>\n                <th>To</th>\n                <th>Department(To)</th>\n                <th>Subject</th>\n                <th>Body</th>\n                <th>Flag</th>\n                <th>Read</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td role="id">1</td>\n                <td role="Sent">\n                    <span class="data-content">Mon, 09 Mar 2020 15:41:14 GMT</span>\n                </td>\n                <td role="from">\n                    <span class="data-content">root@example.net</span>\n                </td>\n                <td role="from-department">\n                    <span class="data-content">IT</span>\n                </td>\n                <td role="to">\n                    <span class="data-content">root@example.net</span>\n                </td>\n                <td role="to-department">\n                    <span class="data-content">IT</span>\n                </td>\n                <td role="subject">\n                    <span class="data-content">Just a test message...</span>\n                </td>\n                <td role="body">\n                    <span class="data-content">Body of a message. Lorem Ipsum ...</span>\n                </td>\n                <td role="flag"></td>\n                <td role="read">\n                    <span class="data-content">Mon, 09 Mar 2020 15:43:49 GMT</span>\n                </td>\n            </tr>\n            <tr>\n                <td role="id">2</td>\n                <td role="Sent">\n                    <span class="data-content">Mon, 09 Mar 2020 15:44:14 GMT</span>\n                </td>\n                <td role="from">\n                    <span class="data-content">root@example.net</span>\n                </td>\n                <td role="from-department">\n                    <span class="data-content">IT</span>\n                </td>\n                <td role="to">\n                    <span class="data-content">root@example.net</span>\n                </td>\n                <td role="to-department">\n                    <span class="data-content">IT</span>\n                </td>\n                <td role="subject">\n                    <span class="data-content">Just a test message...</span>\n                </td>\n                <td role="body">\n                    <span class="data-content">Body of a message. Lorem Ipsum ...</span>\n                </td>\n                <td role="flag">\n                    <span role="active" class="data-content uk-label uk-label-danger">Urgent</span>\n                </td>\n                <td role="read">\n                    <span class="data-content">Mon, 09 Mar 2020 15:47:49 GMT</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/dashboards":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Dashboards</h1>\n        <h2>TODO</h2>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/payments":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Payments</h1>\n        <h2>TODO</h2>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/configuration":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Configuration</h1>\n        <h2>TODO</h2>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/your-data":function(b,f){function k(){return M(function(c){return c.return('\n    <div class="uk-overflow-auto uk-margin-medium-top">\n        <h1>Your Data</h1>\n        <h2>TODO</h2>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)},"/logout":function(b,f){function k(){return M(function(c){return c.return('\n    <div style="text-align: center;" class="uk-overflow-auto uk-margin-medium-top uk-text-center@m" tabindex="0">\n        <div class="uk-card uk-card-default uk-card-body uk-animation-fade">\n            <h1>Logged out</h1>\n            <span class="uk-text-danger" uk-icon="icon: unlock; ratio: 2"></span>\n            <h2>Thanks for using our system.</h2>\n            <h3>We hope you enjoyed the experience we produced.</h3>\n            \x3c!--\n            <p class="uk-text-large">Now you will be redirected to Login Page.</p>\n            --\x3e\n        </div>\n    </div>\n    ')})}
function h(c){return M(function(a){return a.return(c)})}function g(c){var a,e;return M(function(d){if(1==d.g)return F(d,h(c),2);if(3!=d.g)return a=d.h,F(d,k(a),3);e=d.h;S({selector:"div#page-content"},function(){document.querySelector("div#page-content").innerHTML=e;setTimeout(function(){window.location.href="/"},3E3)});d.g=0})}-1<["Dispatcher"].indexOf(b)&&g(f)}};window.addEventListener("popstate",V);V();
